{"ast":null,"code":"var _jsxFileName = \"/workspaces/Quizdiezweite/music-quiz/client/src/components/Quiz.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { fetchSongs } from \"../services/spotifyService\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Quiz = ({\n  token,\n  mode\n}) => {\n  _s();\n  const [songs, setSongs] = useState([]);\n  const [currentSong, setCurrentSong] = useState(null);\n  const [options, setOptions] = useState([]);\n  const [answer, setAnswer] = useState(\"\");\n  const [score, setScore] = useState(0);\n  useEffect(() => {\n    const loadSongs = async () => {\n      const data = await fetchSongs(token);\n      setSongs(data);\n      selectNewSong(data);\n    };\n    if (token) {\n      loadSongs();\n    }\n  }, [token]);\n  const selectNewSong = data => {\n    if (data.length === 0) return;\n    const song = data[Math.floor(Math.random() * data.length)];\n    setCurrentSong(song);\n    let incorrectOptions = data.filter(item => item !== song).sort(() => 0.5 - Math.random()).slice(0, 3);\n    setOptions(mode === \"title\" ? [song.title, ...incorrectOptions.map(s => s.title)] : [song.artist, ...incorrectOptions.map(s => s.artist)]);\n    setAnswer(mode === \"title\" ? song.title : song.artist);\n  };\n  const checkAnswer = selected => {\n    if (selected === answer) {\n      setScore(score + 1);\n      selectNewSong(songs);\n    } else {\n      alert(\"Falsche Antwort! Versuche es erneut.\");\n    }\n  };\n  return currentSong ? /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"text-center\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-xl\",\n      children: [\"Punkte: \", score]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n      src: currentSong.albumCover,\n      alt: \"Album Cover\",\n      className: \"mx-auto my-4 w-48\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this), currentSong.previewUrl && /*#__PURE__*/_jsxDEV(\"audio\", {\n      src: currentSong.previewUrl,\n      controls: true,\n      autoPlay: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 34\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-4\",\n      children: options.sort(() => 0.5 - Math.random()).map(option => /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => checkAnswer(option),\n        className: \"m-2 px-4 py-2 bg-gray-700 text-white rounded\",\n        children: option\n      }, option, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 5\n  }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n    children: \"Lade...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 5\n  }, this);\n};\n_s(Quiz, \"s0DRkfcnXOqRIsxOmshfD/TSydw=\");\n_c = Quiz;\nexport default Quiz;\nvar _c;\n$RefreshReg$(_c, \"Quiz\");","map":{"version":3,"names":["React","useState","useEffect","fetchSongs","jsxDEV","_jsxDEV","Quiz","token","mode","_s","songs","setSongs","currentSong","setCurrentSong","options","setOptions","answer","setAnswer","score","setScore","loadSongs","data","selectNewSong","length","song","Math","floor","random","incorrectOptions","filter","item","sort","slice","title","map","s","artist","checkAnswer","selected","alert","className","children","fileName","_jsxFileName","lineNumber","columnNumber","src","albumCover","alt","previewUrl","controls","autoPlay","option","onClick","_c","$RefreshReg$"],"sources":["/workspaces/Quizdiezweite/music-quiz/client/src/components/Quiz.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { fetchSongs } from \"../services/spotifyService\";\n\nconst Quiz = ({ token, mode }) => {\n  const [songs, setSongs] = useState([]);\n  const [currentSong, setCurrentSong] = useState(null);\n  const [options, setOptions] = useState([]);\n  const [answer, setAnswer] = useState(\"\");\n  const [score, setScore] = useState(0);\n\n  useEffect(() => {\n    const loadSongs = async () => {\n      const data = await fetchSongs(token);\n      setSongs(data);\n      selectNewSong(data);\n    };\n\n    if (token) {\n      loadSongs();\n    }\n  }, [token]);\n\n  const selectNewSong = (data) => {\n    if (data.length === 0) return;\n    const song = data[Math.floor(Math.random() * data.length)];\n    setCurrentSong(song);\n\n    let incorrectOptions = data\n      .filter((item) => item !== song)\n      .sort(() => 0.5 - Math.random())\n      .slice(0, 3);\n\n    setOptions(mode === \"title\" ? [song.title, ...incorrectOptions.map((s) => s.title)] : [song.artist, ...incorrectOptions.map((s) => s.artist)]);\n    setAnswer(mode === \"title\" ? song.title : song.artist);\n  };\n\n  const checkAnswer = (selected) => {\n    if (selected === answer) {\n      setScore(score + 1);\n      selectNewSong(songs);\n    } else {\n      alert(\"Falsche Antwort! Versuche es erneut.\");\n    }\n  };\n\n  return currentSong ? (\n    \n    <div className=\"text-center\">\n      <h2 className=\"text-xl\">Punkte: {score}</h2>\n      <img src={currentSong.albumCover} alt=\"Album Cover\" className=\"mx-auto my-4 w-48\" />\n      {currentSong.previewUrl && <audio src={currentSong.previewUrl} controls autoPlay />}\n      <div className=\"mt-4\">\n        {options.sort(() => 0.5 - Math.random()).map((option) => (\n          <button key={option} onClick={() => checkAnswer(option)} className=\"m-2 px-4 py-2 bg-gray-700 text-white rounded\">\n            {option}\n          </button>\n        ))}\n      </div>\n    </div>\n  ) : (\n    <p>Lade...</p>\n    \n  );\n};\n\nexport default Quiz;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}